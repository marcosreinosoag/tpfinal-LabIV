<div class="hero-background"></div> <!-- Fondo fijo -->
<nav class="navbar-clinica">
  <div class="logo">
    <img src="assets/images/icono.ico" alt="Cl√≠nica" />
    <div class="titulo-logo">
      <h2>Cl√≠nica OnLine</h2>
      <span>Especialistas en Salud</span>
    </div>
  </div>
  <ul class="navbar-links">  
  </ul>
</nav>

<div *ngIf="mostrarFormulario; else noDisponible" class="form-container">
  <h2>Cargar Historia Cl√≠nica</h2>

  <form [formGroup]="formHistoria" (ngSubmit)="guardarHistoria()">
    <!-- Formulario de datos cl√≠nicos -->
    <label>Altura (cm):</label>
    <input formControlName="altura" type="number" placeholder="Ingrese la altura en cm" />

    <label>Peso (kg):</label>
    <input formControlName="peso" type="number" placeholder="Ingrese el peso en kg" />

    <label>Temperatura (¬∞C):</label>
    <input formControlName="temperatura" type="number" placeholder="Ingrese la temperatura en ¬∞C" />

    <label>Presi√≥n:</label>
    <input formControlName="presion" type="text" placeholder="Ingrese la presi√≥n" />

    <hr />
    <h3>Informaci√≥n del paciente</h3>
    
    <!-- Control de rango 0-100 -->
    <label>Bienestar del paciente (0-100):</label>
    <div class="range-container">
      <input 
        formControlName="rangoDinamico" 
        type="range" 
        min="0" 
        max="100" 
        step="1"
        class="range-input"
      />
      <span class="range-value">{{ formHistoria.get('rangoDinamico')?.value }}</span>
    </div>

    <!-- Cuadro de texto num√©rico -->
    <label>Cantidad de consultas:</label>
    <input 
      formControlName="valorNumerico" 
      type="number" 
      placeholder="Ingrese la cantidad de consultas"
      step="any"
    />

    <!-- Switch Si/No -->
    <label>Alergias:</label>
    <div class="switch-container">
      <label class="switch">
        <input 
          formControlName="switchSiNo" 
          type="checkbox"
        />
        <span class="slider"></span>
      </label>
      <span class="switch-label">
        {{ formHistoria.get('switchSiNo')?.value ? 'Si' : 'No' }}
      </span>
    </div>

    <hr />
    <h3>Datos Extra Adicionales (m√°ximo 3)</h3>
    <div formArrayName="datosExtra">
      <div *ngFor="let dato of datosExtra.controls; let i = index" [formGroupName]="i" class="fila-dato-extra">
        <input placeholder="Clave" formControlName="clave" />
        <input placeholder="Valor" formControlName="valor" />
        <button type="button" (click)="eliminarDatoExtra(i)">üóëÔ∏è</button>
      </div>
    </div>
    <button type="button" (click)="agregarDatoExtra()" [disabled]="datosExtra.length >= 3">+ Agregar Dato</button>

    <hr />
    <button type="submit" [disabled]="formHistoria.invalid">Guardar Historia Cl√≠nica</button>
  </form>
</div>

<ng-template #noDisponible></ng-template>
